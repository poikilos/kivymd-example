#:import MDApp kivymd.app
#:import MDList kivymd.uix.list
#:import ThemableBehavior kivymd.theming

# <ContentNavDrawer@ThemableBehavior+MDList>:
#     id: content_drawer

Screen:
    NavigationLayout:
        ScreenManager:
            id: screen_manager
            Screen:
                name: "screen1"
                FloatLayout:
                    MDLabel:
                        text: "Screen 1"
                        size_hint: (0.5, 0.1)
                        pos_hint: {"center_x": 0.5, "center_y": 0.9}
                        halign: "center"

                    MDRoundFlatButton:
                        text: "Imprimir"
                        pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        on_release:
                            app.imprimir("Screen 1")

            Screen:
                name: "screen2"
                FloatLayout:
                    MDLabel:
                        text: "Screen 2"
                        size_hint: (0.5, 0.1)
                        pos_hint: {"center_x": 0.5, "center_y": 0.9}
                        halign: "center"

                    MDRoundFlatButton:
                        text: "Imprimir"
                        pos_hint: {"center_x": 0.5, "center_y": 0.8}
                        on_release:
                            app.imprimir("Screen 2")


        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height: avatar.height

                    Image:
                        id: avatar
                        size_hint: None, None
                        size: "56dp", "56dp"
                        source: "menu.png"

                MDLabel:
                    text: "Navigate to Screen"
                    font_style: "Button"
                    size_hint_y: None
                    height: self.texture_size[1]

                MDLabel:
                    text: "KivyMD Nav Drawer and Screen Manager"
                    font_style: "Caption"
                    size_hint_y: None
                    height: self.texture_size[1]

                ScrollView:

                    ContentNavDrawer:
                        id: md_list
                        OneLineIconListItem:
                            icon: "home"
                            text: "Inicio"
                            on_release:
                                screen_manager.current = "screen1"
                                nav_drawer.set_state("closed")

                        OneLineIconListItem:
                            icon: "lock"
                            text: "Pagina 2"
                            on_release:
                                screen_manager.current = "screen2"
                                nav_drawer.set_state("closed")
